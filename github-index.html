<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tamil Uyir Ezhuthukkal - Learning Game</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Tamil:wght@400;700;900&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Framer Motion -->
    <script src="https://unpkg.com/framer-motion@10/dist/framer-motion.js"></script>
    
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none;
            -webkit-touch-callout: none;
            font-family: 'Noto Sans Tamil', sans-serif;
        }
        
        .touch-manipulation {
            touch-action: manipulation;
        }
        
        .no-select {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        .font-tamil {
            font-family: 'Noto Sans Tamil', sans-serif;
        }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'tamil': ['Noto Sans Tamil', 'sans-serif'],
                    }
                }
            }
        }
    </script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useCallback, useEffect } = React;
        const { motion, AnimatePresence } = Motion;

        // Tamil Vowels Data
        const tamilVowels = [
            { id: 1, letter: 'அ', romanized: 'a', word: 'அன்னம்', wordMeaning: 'Rice', color: '#FF6B6B', bgColor: '#FFE5E5' },
            { id: 2, letter: 'ஆ', romanized: 'aa', word: 'ஆடு', wordMeaning: 'Goat', color: '#4ECDC4', bgColor: '#E5F9F7' },
            { id: 3, letter: 'இ', romanized: 'i', word: 'இலை', wordMeaning: 'Leaf', color: '#45B7D1', bgColor: '#E5F4FD' },
            { id: 4, letter: 'ஈ', romanized: 'ii', word: 'ஈ', wordMeaning: 'Fly', color: '#96CEB4', bgColor: '#F0F9F5' },
            { id: 5, letter: 'உ', romanized: 'u', word: 'உடல்', wordMeaning: 'Body', color: '#FECA57', bgColor: '#FEF9E7' },
            { id: 6, letter: 'ஊ', romanized: 'uu', word: 'ஊர்', wordMeaning: 'Village', color: '#FF9FF3', bgColor: '#FDF2FD' },
            { id: 7, letter: 'எ', romanized: 'e', word: 'எலி', wordMeaning: 'Mouse', color: '#54A0FF', bgColor: '#EBF3FF' },
            { id: 8, letter: 'ஏ', romanized: 'ae', word: 'ஏணி', wordMeaning: 'Ladder', color: '#5F27CD', bgColor: '#F0EBFF' },
            { id: 9, letter: 'ஐ', romanized: 'ai', word: 'ஐந்து', wordMeaning: 'Five', color: '#00D2D3', bgColor: '#E5FCFC' },
            { id: 10, letter: 'ஒ', romanized: 'o', word: 'ஒட்டகம்', wordMeaning: 'Camel', color: '#FF6348', bgColor: '#FFE8E6' },
            { id: 11, letter: 'ஓ', romanized: 'oo', word: 'ஓடு', wordMeaning: 'Run', color: '#2ED573', bgColor: '#E8F8F0' },
            { id: 12, letter: 'ஔ', romanized: 'au', word: 'ஔடதம்', wordMeaning: 'Medicine', color: '#A55EEA', bgColor: '#F3EBFF' }
        ];

        // Letter Card Component
        const LetterCard = ({ vowel, onLetterTap }) => {
            const [isPressed, setIsPressed] = useState(false);
            const [showWord, setShowWord] = useState(false);

            const handleTap = () => {
                setIsPressed(true);
                setShowWord(true);
                onLetterTap(vowel);
                
                // Play audio using speech synthesis
                if ('speechSynthesis' in window) {
                    const utterance = new SpeechSynthesisUtterance(vowel.letter);
                    utterance.lang = 'ta-IN';
                    utterance.rate = 0.7;
                    utterance.pitch = 1.2;
                    speechSynthesis.cancel();
                    speechSynthesis.speak(utterance);
                }
                
                if ('vibrate' in navigator) {
                    navigator.vibrate(50);
                }
                
                setTimeout(() => {
                    setIsPressed(false);
                    setTimeout(() => setShowWord(false), 2000);
                }, 300);
            };

            return (
                <motion.div
                    className="relative w-full aspect-square touch-manipulation"
                    whileTap={{ scale: 0.95 }}
                    onClick={handleTap}
                >
                    <motion.div
                        className="w-full h-full rounded-3xl shadow-lg cursor-pointer relative overflow-hidden"
                        style={{ backgroundColor: vowel.bgColor }}
                        animate={{
                            scale: isPressed ? 1.1 : 1,
                            boxShadow: isPressed 
                                ? `0 0 30px ${vowel.color}40` 
                                : `0 4px 20px ${vowel.color}20`,
                        }}
                        transition={{
                            type: "spring",
                            stiffness: 400,
                            damping: 17,
                        }}
                    >
                        <div className="flex items-center justify-center h-full">
                            <motion.div
                                className="text-center"
                                animate={{
                                    y: isPressed ? -10 : 0,
                                    rotate: isPressed ? [0, -5, 5, 0] : 0,
                                }}
                            >
                                <motion.div
                                    className="font-tamil font-black text-4xl sm:text-5xl md:text-6xl lg:text-7xl mb-2"
                                    style={{ color: vowel.color }}
                                    animate={{
                                        scale: isPressed ? [1, 1.2, 1] : 1,
                                    }}
                                >
                                    {vowel.letter}
                                </motion.div>
                                
                                <motion.div
                                    className="text-sm md:text-lg font-semibold opacity-70"
                                    style={{ color: vowel.color }}
                                >
                                    {vowel.romanized}
                                </motion.div>
                            </motion.div>
                        </div>

                        {/* Sparkle Effect */}
                        <AnimatePresence>
                            {isPressed && (
                                <>
                                    {[...Array(6)].map((_, i) => (
                                        <motion.div
                                            key={i}
                                            className="absolute w-2 h-2 rounded-full"
                                            style={{
                                                backgroundColor: vowel.color,
                                                top: `${20 + Math.random() * 60}%`,
                                                left: `${20 + Math.random() * 60}%`,
                                            }}
                                            initial={{ scale: 0, opacity: 1 }}
                                            animate={{
                                                scale: [0, 1, 0],
                                                opacity: [1, 1, 0],
                                                x: [0, (Math.random() - 0.5) * 100],
                                                y: [0, (Math.random() - 0.5) * 100],
                                            }}
                                            exit={{ opacity: 0 }}
                                            transition={{
                                                duration: 1,
                                                delay: i * 0.1,
                                            }}
                                        />
                                    ))}
                                </>
                            )}
                        </AnimatePresence>
                    </motion.div>

                    {/* Word Pop-up */}
                    <AnimatePresence>
                        {showWord && (
                            <motion.div
                                className="absolute -top-16 left-1/2 transform -translate-x-1/2 z-10"
                                initial={{ opacity: 0, scale: 0, y: 20 }}
                                animate={{ opacity: 1, scale: 1, y: 0 }}
                                exit={{ opacity: 0, scale: 0, y: -20 }}
                            >
                                <div
                                    className="px-4 py-2 rounded-2xl shadow-lg text-white font-tamil font-bold text-sm md:text-lg whitespace-nowrap"
                                    style={{ backgroundColor: vowel.color }}
                                >
                                    {vowel.word}
                                    <div className="text-xs opacity-90 font-normal">
                                        {vowel.wordMeaning}
                                    </div>
                                    <div
                                        className="absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0"
                                        style={{
                                            borderLeft: '8px solid transparent',
                                            borderRight: '8px solid transparent',
                                            borderTop: `8px solid ${vowel.color}`,
                                        }}
                                    />
                                </div>
                            </motion.div>
                        )}
                    </AnimatePresence>
                </motion.div>
            );
        };

        // Main App Component
        const App = () => {
            const [selectedLetters, setSelectedLetters] = useState(new Set());
            const [isMuted, setIsMuted] = useState(false);

            const handleLetterTap = useCallback((vowel) => {
                setSelectedLetters(prev => new Set([...prev, vowel.id]));
            }, []);

            const handleNext = () => {
                alert('Great job! Next chapter coming soon! 🎉');
            };

            const toggleMute = () => {
                const newMutedState = !isMuted;
                setIsMuted(newMutedState);
                if (newMutedState) {
                    speechSynthesis.cancel();
                }
            };

            return (
                <div className="min-h-screen w-full overflow-hidden bg-gradient-to-br from-blue-300 via-pink-300 to-yellow-300 no-select touch-manipulation">
                    {/* Animated Background */}
                    <div className="fixed inset-0 overflow-hidden pointer-events-none z-0">
                        <div className="absolute inset-0 bg-gradient-to-br from-blue-300 via-pink-300 to-yellow-300 opacity-80" />
                        
                        {/* Animated Sun */}
                        <motion.div
                            className="absolute top-8 right-8 w-12 h-12 md:w-16 md:h-16 bg-yellow-400 rounded-full shadow-lg"
                            animate={{
                                rotate: 360,
                                scale: [1, 1.1, 1],
                            }}
                            transition={{
                                rotate: { duration: 20, repeat: Infinity, ease: "linear" },
                                scale: { duration: 4, repeat: Infinity, ease: "easeInOut" },
                            }}
                        />

                        {/* Floating Elements */}
                        {[...Array(6)].map((_, i) => (
                            <motion.div
                                key={`decoration-${i}`}
                                className="absolute text-xl opacity-60"
                                style={{
                                    top: `${Math.random() * 80 + 10}%`,
                                    left: `${Math.random() * 80 + 10}%`,
                                }}
                                animate={{
                                    y: [0, -20, 0],
                                    scale: [1, 1.2, 1],
                                    opacity: [0.6, 0.9, 0.6],
                                }}
                                transition={{
                                    duration: 3 + Math.random() * 2,
                                    repeat: Infinity,
                                    ease: "easeInOut",
                                    delay: i * 0.5,
                                }}
                            >
                                {['💖', '⭐', '🦋', '🌟', '✨', '💫'][i]}
                            </motion.div>
                        ))}
                    </div>
                    
                    {/* Audio Control */}
                    <div className="fixed top-4 left-4 z-50">
                        <motion.button
                            className="w-12 h-12 rounded-full bg-white/80 backdrop-blur-sm shadow-lg flex items-center justify-center text-xl"
                            whileTap={{ scale: 0.9 }}
                            onClick={toggleMute}
                            title={isMuted ? "Unmute" : "Mute"}
                        >
                            {isMuted ? '🔇' : '🔊'}
                        </motion.button>
                    </div>
                    
                    {/* Main Content */}
                    <div className="relative z-10 min-h-screen flex flex-col">
                        {/* Header */}
                        <motion.div
                            className="text-center py-4 md:py-6 px-4"
                            initial={{ opacity: 0, y: -50 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ duration: 0.8 }}
                        >
                            <motion.h1
                                className="font-tamil font-black text-2xl md:text-4xl lg:text-5xl text-white drop-shadow-lg"
                                animate={{
                                    textShadow: [
                                        '2px 2px 4px rgba(0,0,0,0.3)',
                                        '2px 2px 8px rgba(255,182,193,0.5)',
                                        '2px 2px 4px rgba(0,0,0,0.3)',
                                    ],
                                }}
                                transition={{
                                    duration: 3,
                                    repeat: Infinity,
                                    ease: "easeInOut",
                                }}
                            >
                                Chapter 1: Tamil Vowels
                            </motion.h1>
                            
                            <motion.div
                                className="font-tamil text-sm md:text-xl text-white/90 mt-2 drop-shadow-md"
                                initial={{ opacity: 0 }}
                                animate={{ opacity: 1 }}
                                transition={{ delay: 0.5 }}
                            >
                                உயிர் எழுத்துக்கள்
                            </motion.div>
                        </motion.div>
                        
                        {/* Letters Grid */}
                        <motion.div
                            className="flex-1 px-2 md:px-4 pb-20"
                            initial={{ opacity: 0, y: 50 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ duration: 0.8, delay: 0.3 }}
                        >
                            <div className="max-w-6xl mx-auto">
                                <div className="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2 md:gap-4">
                                    {tamilVowels.map((vowel, index) => (
                                        <motion.div
                                            key={vowel.id}
                                            initial={{ opacity: 0, scale: 0, rotate: -180 }}
                                            animate={{ opacity: 1, scale: 1, rotate: 0 }}
                                            transition={{
                                                duration: 0.6,
                                                delay: index * 0.1,
                                                type: "spring",
                                                stiffness: 200,
                                                damping: 15,
                                            }}
                                        >
                                            <LetterCard
                                                vowel={vowel}
                                                onLetterTap={handleLetterTap}
                                            />
                                        </motion.div>
                                    ))}
                                </div>
                            </div>
                            
                            {/* Progress Indicator */}
                            <motion.div
                                className="mt-4 md:mt-8 text-center"
                                initial={{ opacity: 0 }}
                                animate={{ opacity: 1 }}
                                transition={{ delay: 1.5 }}
                            >
                                <div className="inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm rounded-full px-4 md:px-6 py-2 md:py-3">
                                    <span className="text-white font-semibold text-sm md:text-base">
                                        Progress: {selectedLetters.size}/{tamilVowels.length}
                                    </span>
                                    <div className="flex gap-1">
                                        {tamilVowels.map((vowel) => (
                                            <motion.div
                                                key={vowel.id}
                                                className={`w-2 h-2 rounded-full ${
                                                    selectedLetters.has(vowel.id) 
                                                        ? 'bg-green-400' 
                                                        : 'bg-white/30'
                                                }`}
                                                animate={{
                                                    scale: selectedLetters.has(vowel.id) ? [1, 1.5, 1] : 1,
                                                }}
                                                transition={{ duration: 0.3 }}
                                            />
                                        ))}
                                    </div>
                                </div>
                            </motion.div>
                        </motion.div>
                        
                        {/* Next Button */}
                        <motion.div
                            className="fixed bottom-4 md:bottom-6 right-4 md:right-6 z-20"
                            initial={{ opacity: 0, scale: 0 }}
                            animate={{ opacity: 1, scale: 1 }}
                            transition={{ delay: 1, duration: 0.5 }}
                        >
                            <motion.button
                                className="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 md:px-8 py-2 md:py-4 rounded-full font-bold text-sm md:text-lg shadow-lg"
                                whileHover={{ scale: 1.05 }}
                                whileTap={{ scale: 0.95 }}
                                onClick={handleNext}
                                animate={{
                                    boxShadow: [
                                        '0 4px 20px rgba(168, 85, 247, 0.4)',
                                        '0 8px 30px rgba(168, 85, 247, 0.6)',
                                        '0 4px 20px rgba(168, 85, 247, 0.4)',
                                    ],
                                }}
                                transition={{
                                    duration: 2,
                                    repeat: Infinity,
                                    ease: "easeInOut",
                                }}
                            >
                                Next Chapter →
                            </motion.button>
                        </motion.div>
                    </div>
                    
                    {/* Celebration Effect */}
                    {selectedLetters.size === tamilVowels.length && (
                        <motion.div
                            className="fixed inset-0 pointer-events-none z-30"
                            initial={{ opacity: 0 }}
                            animate={{ opacity: 1 }}
                        >
                            {[...Array(20)].map((_, i) => (
                                <motion.div
                                    key={i}
                                    className="absolute text-2xl md:text-4xl"
                                    style={{
                                        top: `${Math.random() * 100}%`,
                                        left: `${Math.random() * 100}%`,
                                    }}
                                    initial={{ scale: 0, rotate: 0 }}
                                    animate={{
                                        scale: [0, 1, 0],
                                        rotate: [0, 360],
                                        y: [0, -100],
                                    }}
                                    transition={{
                                        duration: 2,
                                        delay: i * 0.1,
                                        ease: "easeOut",
                                    }}
                                >
                                    {['🎉', '⭐', '🌟', '💫', '✨'][Math.floor(Math.random() * 5)]}
                                </motion.div>
                            ))}
                        </motion.div>
                    )}
                </div>
            );
        };

        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
